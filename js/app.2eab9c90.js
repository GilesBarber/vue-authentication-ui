(function(){"use strict";var t={616:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var n=r(8762),s=r(9582),a=r(4886),o=r(8506),i=r(7913),u=function(){var t=this,e=t._self._c;return e(s.Z,[e("nav",[e(n.Z,{staticClass:"mx-4 white--text",attrs:{elevation:"2","x-large":"",rounded:"",color:"deep-purple darken-1"},on:{click:t.reload}},[t._v(" Home ")]),e("router-link",{attrs:{to:"/Suppliers",tag:"v-btn"}},[e(n.Z,{staticClass:"mx-4 white--text",attrs:{elevation:"2","x-large":"",rounded:"",color:"deep-purple darken-1"}},[t._v(" Suppliers ")])],1)],1),e(a.EB,[t._v(" Quotes ")]),e(a.ZB,[e("ul",t._l(t.$store.state.rawQuotes,(function(r,u){return e("li",{key:u},[t._v(" Title: "+t._s(r.title)+" "),e(o.Z,{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:s}){return[e(n.Z,t._g(t._b({attrs:{"x-small":"",color:"teal"}},"v-btn",s,!1),r),[e(i.Z,{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:n}){return[e("span",t._g(t._b({staticClass:"tooltip"},"span",n,!1),r),[t._v("+")])]}}],null,!0)},[e("span",[t._v("Expand")])])],1)]}}],null,!0)},[e(s.Z,[e(a.EB,[t._v("Quote Details")]),e(a.ZB,[t._v(" ID: "+t._s(r.id)+" "),e("br"),t._v(" Amount: Â£"+t._s(r.amount)+" "),e("br"),t._v(" Created: "+t._s(t.getDate(r.created))+" "),e("br"),t._v(" Supplier ID: "+t._s(r.supplier_id)+" "),e("br")])],1)],1)],1)})),0)])],1)},l=[],c=(r(7658),{methods:{getDate(t){let e=Date.parse(t);const r=new Date(e);return r},reload(){this.$router.push({name:"home"}),location.reload()}},mounted(){this.$store.dispatch("getQuotes")}}),p=c,d=r(1001),h=(0,d.Z)(p,u,l,!1,null,"671c0039",null),m=h.exports},8539:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var n=r(8762),s=r(9582),a=r(4886),o=r(8506),i=r(7913),u=function(){var t=this,e=t._self._c;return e(s.Z,[e("nav",[e(n.Z,{staticClass:"mx-4 white--text",attrs:{elevation:"2","x-large":"",rounded:"",color:"deep-purple darken-1"},on:{click:t.reload}},[t._v(" Home ")]),e("router-link",{attrs:{to:"/Quotes",tag:"v-btn"}},[e(n.Z,{staticClass:"mx-4 white--text",attrs:{elevation:"2","x-large":"",rounded:"",color:"deep-purple darken-1"}},[t._v(" Created Quotes ")])],1)],1),e(a.EB,[t._v(" Suppliers ")]),e(a.ZB,[e("ul",t._l(t.$store.state.rawSuppliers,(function(r,u){return e("li",{key:u},[t._v(" Name: "+t._s(r.name)+" "),e(o.Z,{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:s}){return[e(n.Z,t._g(t._b({attrs:{"x-small":"",color:"teal"}},"v-btn",s,!1),r),[e(i.Z,{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:n}){return[e("span",t._g(t._b({staticClass:"tooltip"},"span",n,!1),r),[t._v("+")])]}}],null,!0)},[e("span",[t._v("Expand")])])],1)]}}],null,!0)},[e(s.Z,[e(a.EB,[t._v("Supplier Details")]),e(a.ZB,[t._v(" Description: "+t._s(r.description)+" "),e("br"),t._v(" Supplier ID: "+t._s(r.id)+" ")])],1)],1)],1)})),0)])],1)},l=[],c=(r(7658),{methods:{reload(){this.$router.push({name:"home"}),location.reload()}},mounted(){this.$store.dispatch("getSupplier")}}),p=c,d=r(1001),h=(0,d.Z)(p,u,l,!1,null,"55af4c01",null),m=h.exports},8882:function(t,e,r){var n=r(144),s=r(998),a=r(2928),o=function(){var t=this,e=t._self._c;return e(s.Z,[e(a.Z,[e("router-view")],1)],1)},i=[],u={name:"App",data:()=>({items:[{title:"Suppliers",icon:"mdi-view-dashboard",to:"/Suppliers"},{title:"Quotes",icon:"mdi-view-dashboard",to:"/Quotes"}]})},l=u,c=r(1001),p=(0,c.Z)(l,o,i,!1,null,null,null),d=p.exports,h=r(8345),m=function(){var t=this,e=t._self._c;return e("Authentication")},f=[],v=r(8762),_=r(5125),g=r(8461),b=function(){var t=this,e=t._self._c;return e(_.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(g.Z,{attrs:{counter:150,rules:t.nameRules,label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(g.Z,{attrs:{rules:t.passwordRules,label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.creatingAccount?e(g.Z,{attrs:{counter:150,rules:t.firstnameRules,label:"First name",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}}):t._e(),t.creatingAccount?e(g.Z,{attrs:{counter:150,rules:t.lastnameRules,label:"Last name",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}}):t._e(),t.creatingAccount?e(g.Z,{attrs:{counter:254,rules:t.emailRules,label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),e(v.Z,{staticClass:"mr-4 mb-2",attrs:{color:"error"},on:{click:t.reset}},[t._v(" Reset Form ")]),e(v.Z,{staticClass:"mr-4 mb-2",attrs:{color:"warning"},on:{click:t.resetValidation}},[t._v(" Reset Validation ")]),e(v.Z,{staticClass:"mr-4 mb-2",attrs:{color:"success"},on:{click:t.login}},[t._v(" Login ")]),e(v.Z,{staticClass:"mr-4 mb-2",attrs:{color:"success"},on:{click:t.signUp}},[t._v(" Sign Up ")]),t.creatingAccount?e(v.Z,{staticClass:"mb-2",attrs:{color:"success"},on:{click:t.createAccount}},[t._v(" Create account ")]):t._e()],1)},w=[],k=(r(7658),r(629)),Z={data:()=>({valid:!0,username:"",creatingAccount:!1,nameRules:[t=>!!t||"Username is required",t=>t&&t.length<=150&&t.length>=1||"Username must be less than 150 characters"],password:"",passwordRules:[t=>!!t||"Password is required",t=>t&&t.length<=128&&t.length>=1||"Password not valid"],first_name:"",firstnameRules:[t=>!!t||"First name is required",t=>t&&t.length<=128&&t.length>=1||"First name must be less than 150 characters"],last_name:"",lastnameRules:[t=>!!t||"Last name is required",t=>t&&t.length<=128&&t.length>=1||"Last name must be less than 150 characters"],email:"",emailRules:[t=>!!t||"Email is required",t=>t&&t.length<=254&&t.length>=1||"Email not valid"]}),methods:{...(0,k.OI)(["setAuthorisation"]),...(0,k.nv)(["getSupplier"]),validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},login(){this.creatingAccount=!1,this.validate();const t={username:this.username,password:this.password};this.$store.dispatch("auth",t),setTimeout((()=>{this.viewSuppliers()}),150)},signUp(){this.reset(),this.creatingAccount=!0},createAccount(){this.validate();const t={username:this.username,password:this.password,first_name:this.first_name,last_name:this.last_name,email:this.email};this.$store.dispatch("newUser",t)},viewSuppliers(){this.$store.getters.auth&&(this.$router.push({name:"Suppliers"}),this.reset())},ViewCreatedQuotes(){this.$router.push({name:"Quotes"})}}},y=Z,S=(0,c.Z)(y,b,w,!1,null,"1a4d7392",null),x=S.exports,A={name:"Home",components:{Authentication:x}},C=A,j=(0,c.Z)(C,m,f,!1,null,null,null),$=j.exports;r(616),r(8539);n.ZP.use(h.ZP);const P=[{path:"/",name:"home",component:$},{path:"/Suppliers",name:"Suppliers",component:()=>Promise.resolve().then(r.bind(r,8539))},{path:"/Quotes",name:"Quotes",component:()=>Promise.resolve().then(r.bind(r,616))}],T=new h.ZP({routes:P});var O=T;n.ZP.use(k.ZP);const Q="https://february-21.herokuapp.com/api/v1/users/",R="https://february-21.herokuapp.com/api/v1/suppliers/",U="https://february-21.herokuapp.com/api-token-auth/",q="https://february-21.herokuapp.com/api/v1/quotes/";var D=new k.ZP.Store({state:{rawSuppliers:[],rawQuotes:[],token:"",authorised:!1},getters:{auth(t){return t.authorised}},mutations:{updateSuppliers(t,e){t.rawSuppliers=e},updateQuotes(t,e){t.rawQuotes=e},setToken(t,e){t.token=e},setAuthorisation(t,e){t.authorised=e}},actions:{setAuthorised(t){this.commit("setAuthorisation",t)},async getSupplier(t){try{let e=await fetch(R,{method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${this.state.token}`}});const r=await e.json(),n=r.results;return t.commit("updateSuppliers",n),r}catch(e){return alert(e),console.log(e),e}},async getQuotes(t){try{let e=await fetch(q,{method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${this.state.token}`}});const r=await e.json(),n=r.results;return t.commit("updateQuotes",n),r}catch(e){return console.log(e),e}},async newUser(t,e){try{let t=await fetch(Q,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token d0932c14d763289c638c53e879749299a670fdc7"},body:JSON.stringify(e)});const r=await t.json(),n=`\n         User token: ${r.auth_token}\n         User ID: ${r.id}\n        `;return r.auth_token&&alert(n),r}catch(r){return console.log(r),r}},async auth(t,e){try{let r=await fetch(U,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});const n=await r.json();return console.log(n.token),n.token&&(this.commit("setToken",n.token),this.commit("setAuthorisation",!0)),e&&n.token&&this.state.authorised&&t.dispatch("getSupplier"),n}catch(r){return console.log(r),alert(r),r}},async setCurrentUser(t){const e=await fetch(U,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${this.state.token}`},body:JSON.stringify(userCreds)}),r=await e.json();t.commit("setCurrentUser",r.user)}}}),E=r(8864);n.ZP.use(E.Z);var B=new E.Z({});n.ZP.config.productionTip=!1,new n.ZP({router:O,store:D,vuetify:B,render:t=>t(d)}).$mount("#app")}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,s,a){if(!n){var o=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],a=t[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(i=!1,a<o&&(o=a));if(i){t.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,s,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,o=n[0],i=n[1],u=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(u)var c=u(r)}for(e&&e(n);l<o.length;l++)a=o[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(c)},n=self["webpackChunkauthentication"]=self["webpackChunkauthentication"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8882)}));n=r.O(n)})();
//# sourceMappingURL=app.2eab9c90.js.map